[gd_scene load_steps=21 format=4 uid="uid://cdtnc2ucqxpfl"]

[ext_resource type="Texture2D" uid="uid://c0wniu4xlqgiy" path="res://assets/img/tiles/tileset.png" id="2_vtaks"]
[ext_resource type="PackedScene" uid="uid://cnqvyca6wo77l" path="res://scenes/player.tscn" id="3_u5sy4"]
[ext_resource type="Script" uid="uid://dj3d00f3pw5e8" path="res://scripts/room_manager.gd" id="5_0tnpc"]
[ext_resource type="Script" path="res://scripts/room.gd" id="6_gee14"]
[ext_resource type="Script" path="res://scripts/slot.gd" id="7_0tnpc"]
[ext_resource type="Script" uid="uid://du6iq2jvrrtdk" path="res://scripts/interact_label.gd" id="8_gee14"]
[ext_resource type="PackedScene" uid="uid://qoe1t1c24c7u" path="res://scenes/woman.tscn" id="9_0tnpc"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_dinhu"]
vertices = PackedVector2Array(75, 75, -75, 75, -75, -75, 75, -75)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-75, -75, 75, -75, 75, 75, -75, 75)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_kvuet"]
vertices = PackedVector2Array(75, 75, -75, 75, -75, -75, 75, -75)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-75, -75, 75, -75, 75, 75, -75, 75)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_trtic"]
vertices = PackedVector2Array(75, 75, -75, 75, -75, -75, 75, -75)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-75, -75, 75, -75, 75, 75, -75, 75)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_ir15t"]
vertices = PackedVector2Array(75, 75, -75, 75, -75, -75, 75, -75)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-75, -75, 75, -75, 75, 75, -75, 75)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_ca42v"]
vertices = PackedVector2Array(75, 75, -75, 75, -75, -75, 75, -75)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-75, -75, 75, -75, 75, 75, -75, 75)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_rysoc"]
vertices = PackedVector2Array(75, 75, -75, 75, -75, -75, 75, -75)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-75, -75, 75, -75, 75, 75, -75, 75)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_ssvqc"]
vertices = PackedVector2Array(75, 75, -75, 75, -75, -75, 75, -75)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-75, -75, 75, -75, 75, 75, -75, 75)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_264po"]
vertices = PackedVector2Array(75, 75, -75, 75, -75, -75, 75, -75)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-75, -75, 75, -75, 75, 75, -75, 75)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_1kice"]
vertices = PackedVector2Array(75, 75, -75, 75, -75, -75, 75, -75)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-75, -75, 75, -75, 75, 75, -75, 75)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_5newe"]
vertices = PackedVector2Array(75, 75, -75, 75, -75, -75, 75, -75)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-75, -75, 75, -75, 75, 75, -75, 75)])
agent_radius = 0.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_37s47"]
vertices = PackedVector2Array(75, 75, -75, 75, -75, -75, 75, -75)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-75, -75, 75, -75, 75, 75, -75, 75)])
agent_radius = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_vtaks"]
texture = ExtResource("2_vtaks")
texture_region_size = Vector2i(150, 150)
0:0/0 = 0
0:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_dinhu")
1:0/0 = 0
1:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_ir15t")
2:0/0 = 0
2:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_ssvqc")
3:0/0 = 0
3:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_5newe")
0:1/0 = 0
0:1/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_kvuet")
1:1/0 = 0
1:1/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_ca42v")
2:1/0 = 0
2:1/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_264po")
3:1/0 = 0
3:1/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_37s47")
0:2/0 = 0
0:2/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_trtic")
1:2/0 = 0
1:2/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_rysoc")
2:2/0 = 0
2:2/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_1kice")

[sub_resource type="TileSet" id="TileSet_feb5d"]
tile_size = Vector2i(150, 150)
physics_layer_0/collision_layer = 2
physics_layer_0/collision_mask = 2
navigation_layer_0/layers = 1
sources/4 = SubResource("TileSetAtlasSource_vtaks")

[node name="Game" type="Node2D"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAaABYAAQACAAAAAAAbABYAAQACAAAAAAAHAAAABAAAAAAAAAAHAAEABAAAAAAAAAAIAAEABAAAAAAAAAAJAAEABAAAAAAAAAAJAAIABAAAAAAAAAAKAAIABAAAAAAAAAALAAIABAAAAAAAAAALAAEABAAAAAAAAAAHAAIABAAAAAAAAAAIAAAABAAAAAAAAAAIAAIABAAAAAAAAAAJAAAABAAAAAAAAAAKAAAABAAAAAAAAAAKAAEABAAAAAAAAAALAAAABAAAAAAAAAAAAAAABAACAAEAAAAAAAEABAABAAEAAAAAAAIABAABAAEAAAAAAAMABAAAAAIAAAAAAAQABAACAAEAAAABAAAABAABAAEAAAABAAEABAABAAEAAAABAAIABAABAAEAAAABAAMABAACAAEAAAABAAQABAABAAEAAAACAAAABAABAAEAAAACAAEABAAAAAIAAAACAAIABAACAAEAAAACAAMABAAAAAIAAAACAAQABAAAAAIAAAADAAAABAABAAEAAAADAAEABAAAAAIAAAADAAIABAABAAEAAAADAAMABAACAAEAAAADAAQABAAAAAIAAAAEAAAABAAAAAIAAAAEAAEABAACAAEAAAAEAAIABAACAAEAAAAEAAMABAABAAEAAAAEAAQABAAAAAIAAAAFAAAABAABAAEAAAAFAAEABAACAAEAAAAFAAIABAACAAEAAAAFAAMABAACAAEAAAAFAAQABAAAAAIAAAAGAAAABAACAAEAAAAGAAEABAACAAEAAAAGAAIABAAAAAIAAAAGAAMABAACAAEAAAAGAAQABAACAAEAAAAHAAMABAAAAAIAAAAHAAQABAAAAAIAAAAIAAMABAACAAEAAAAIAAQABAACAAEAAAAJAAMABAACAAEAAAAJAAQABAABAAEAAAAKAAMABAABAAEAAAAKAAQABAABAAEAAAALAAMABAACAAEAAAALAAQABAACAAEAAAAAAAUABAACAAEAAAABAAUABAABAAEAAAACAAUABAACAAEAAAADAAUABAAAAAIAAAAEAAUABAACAAEAAAAFAAUABAABAAEAAAAGAAUABAABAAEAAAAHAAUABAABAAEAAAAIAAUABAAAAAIAAAAJAAUABAACAAEAAAAKAAUABAACAAEAAAALAAUABAAAAAIAAAD+/wAABAABAAAAAAD+/wEABAABAAAAAAD+/wIABAABAAAAAAD//wAABAABAAAAAAD//wEABAABAAAAAAD//wIABAABAAAAAAAAAAYABAADAAAAAAAAAAcABAADAAAAAAAAAAgABAADAAAAAAABAAYABAADAAAAAAABAAcABAADAAAAAAABAAgABAADAAAAAAACAAYABAADAAAAAAACAAcABAADAAAAAAACAAgABAADAAAAAAADAAYABAADAAAAAAADAAcABAADAAAAAAADAAgABAADAAAAAAAEAAYABAADAAAAAAAEAAcABAADAAAAAAAEAAgABAADAAAAAAAHAAYABAABAAIAAAAHAAcABAABAAIAAAAIAAYABAABAAIAAAAIAAcABAABAAIAAAAJAAYABAABAAIAAAAJAAcABAABAAIAAAAKAAYABAABAAIAAAAKAAcABAABAAIAAAALAAYABAABAAIAAAALAAcABAABAAIAAAAMAAQABAAAAAIAAAAMAAUABAAAAAIAAAANAAQABAAAAAIAAAANAAUABAAAAAIAAAAOAAQABAAAAAIAAAAOAAUABAAAAAIAAAAPAAAABAAAAAIAAAAPAAEABAAAAAIAAAAPAAIABAAAAAIAAAAPAAMABAAAAAIAAAAPAAQABAAAAAIAAAAPAAUABAAAAAIAAAAPAAYABAAAAAIAAAAPAAcABAAAAAIAAAAPAAgABAAAAAIAAAAPAAkABAAAAAIAAAAQAAAABAAAAAIAAAAQAAEABAAAAAIAAAAQAAIABAAAAAIAAAAQAAMABAAAAAIAAAAQAAQABAAAAAIAAAAQAAUABAAAAAIAAAAQAAYABAAAAAIAAAAQAAcABAAAAAIAAAAQAAgABAAAAAIAAAAQAAkABAAAAAIAAAARAAAABAAAAAIAAAARAAEABAAAAAIAAAARAAIABAAAAAIAAAARAAMABAAAAAIAAAARAAQABAAAAAIAAAARAAUABAAAAAIAAAARAAYABAAAAAIAAAARAAcABAAAAAIAAAARAAgABAAAAAIAAAARAAkABAAAAAIAAAD+/wMABAABAAAAAAD//wMABAABAAAAAAA=")
tile_set = SubResource("TileSet_feb5d")

[node name="Player" parent="." instance=ExtResource("3_u5sy4")]
position = Vector2(436, 184)

[node name="RoomManager" type="Node2D" parent="."]
script = ExtResource("5_0tnpc")

[node name="Room1" type="Node2D" parent="RoomManager" groups=["Rooms"]]
position = Vector2(-128, 256)
script = ExtResource("6_gee14")

[node name="Slot1" type="Node2D" parent="RoomManager/Room1"]
position = Vector2(-22.89801, -176.69272)
script = ExtResource("7_0tnpc")

[node name="Slot3" type="Node2D" parent="RoomManager/Room1"]
position = Vector2(-31.976135, 242.19678)
script = ExtResource("7_0tnpc")

[node name="Room2" type="Node2D" parent="RoomManager" groups=["Rooms"]]
position = Vector2(1423.5042, 223.26004)
script = ExtResource("6_gee14")

[node name="Slot1" type="Node2D" parent="RoomManager/Room2"]
position = Vector2(-224.35889, -124.499664)
script = ExtResource("7_0tnpc")

[node name="Slot2" type="Node2D" parent="RoomManager/Room2"]
position = Vector2(228.24927, -128.39029)
script = ExtResource("7_0tnpc")

[node name="Slot3" type="Node2D" parent="RoomManager/Room2"]
position = Vector2(-255.48389, 115.42154)
script = ExtResource("7_0tnpc")

[node name="Slot4" type="Node2D" parent="RoomManager/Room2"]
position = Vector2(248.99927, 132.28091)
script = ExtResource("7_0tnpc")

[node name="Room3" type="Node2D" parent="RoomManager" groups=["Rooms"]]
position = Vector2(397.6786, 1147.9294)
script = ExtResource("6_gee14")

[node name="Slot1" type="Node2D" parent="RoomManager/Room3"]
position = Vector2(-251.59302, -128.39026)
script = ExtResource("7_0tnpc")

[node name="Slot2" type="Node2D" parent="RoomManager/Room3"]
position = Vector2(176.37463, -118.01526)
script = ExtResource("7_0tnpc")

[node name="Slot3" type="Node2D" parent="RoomManager/Room3"]
position = Vector2(-251.59302, 54.468628)
script = ExtResource("7_0tnpc")

[node name="Slot4" type="Node2D" parent="RoomManager/Room3"]
position = Vector2(204.90576, 80.406006)
script = ExtResource("7_0tnpc")

[node name="NPCs" type="Node2D" parent="."]

[node name="Woman" parent="NPCs" instance=ExtResource("9_0tnpc")]
position = Vector2(587.0436, 663.4206)

[node name="Woman2" parent="NPCs" instance=ExtResource("9_0tnpc")]
position = Vector2(216.91537, 399.14)

[node name="Woman3" parent="NPCs" instance=ExtResource("9_0tnpc")]
position = Vector2(1269.2227, 649.81586)

[node name="Woman4" parent="NPCs" instance=ExtResource("9_0tnpc")]
position = Vector2(781.1576, 340.6785)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="InteractLabel" type="Label" parent="CanvasLayer"]
visible = false
offset_left = 680.0
offset_top = 939.0
offset_right = 1238.0
offset_bottom = 1027.0
theme_override_font_sizes/font_size = 64
text = "Pres 'E' to interact"
script = ExtResource("8_gee14")

[connection signal="no_woman_in_sight" from="Player" to="CanvasLayer/InteractLabel" method="_on_player_no_woman_in_sight"]
[connection signal="woman_entered_sight" from="Player" to="CanvasLayer/InteractLabel" method="_on_player_woman_entered_sight"]
